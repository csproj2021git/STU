{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/abronshtein/Desktop/Code/STU/StuVoteApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\abronshtein\\\\Desktop\\\\Code\\\\STU\\\\StuVoteApp\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';var host=\"http://localhost:4001/api\";// sets header default token\nvar setToken=function setToken(token){if(token){axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);}else{delete axios.defaults.headers.common['Authorization'];}};var call=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(method,path,data){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios[method](\"\".concat(host,\"/\").concat(path),data);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function call(_x,_x2,_x3){return _ref.apply(this,arguments);};}();export default{call:call,setToken:setToken};","map":{"version":3,"names":["axios","host","setToken","token","defaults","headers","common","call","method","path","data","response"],"sources":["C:/Users/abronshtein/Desktop/Code/STU/StuVoteApp/client/src/services/api.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst host = \"http://localhost:4001/api\"\r\n\r\n// sets header default token\r\nconst setToken = token => {\r\n    if(token){\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\r\n    } else{\r\n        delete axios.defaults.headers.common['Authorization']\r\n    }\r\n}\r\n\r\n\r\nconst call = async (method, path, data) => {\r\n    const response = await axios[method](`${host}/${path}`, data)\r\n    return response.data\r\n}\r\n\r\nexport default {call, setToken}"],"mappings":"ySAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,IAAI,CAAG,2BAAb,CAEA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,CAAI,CACtB,GAAGA,KAAH,CAAS,CACLH,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,mBAA2DH,KAA3D,EACH,CAFD,IAEM,CACF,MAAOH,CAAAA,KAAK,CAACI,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP,CACH,CACJ,CAND,CASA,GAAMC,CAAAA,IAAI,0FAAG,iBAAOC,MAAP,CAAeC,IAAf,CAAqBC,IAArB,qJACcV,CAAAA,KAAK,CAACQ,MAAD,CAAL,WAAiBP,IAAjB,aAAyBQ,IAAzB,EAAiCC,IAAjC,CADd,QACHC,QADG,+CAEFA,QAAQ,CAACD,IAFP,wDAAH,kBAAJH,CAAAA,IAAI,oDAAV,CAKA,cAAe,CAACA,IAAI,CAAJA,IAAD,CAAOL,QAAQ,CAARA,QAAP,CAAf"},"metadata":{},"sourceType":"module"}
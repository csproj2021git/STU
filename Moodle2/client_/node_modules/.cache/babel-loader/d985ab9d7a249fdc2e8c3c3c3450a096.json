{"ast":null,"code":"import React from\"react\";import{Provider}from'react-redux';import{store}from'../store';import{setCurrentUser,addError,setToken}from'../store/actions';import decode from'jwt-decode';import{BrowserRouter as Router}from'react-router-dom';import RouteViews from'./RoutesViews';import NavBar from'./NavBar';//When turning on app, it will check if user already logged in\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";if(localStorage.jwtToken){setToken(localStorage.jwtToken);try{store.dispatch(setCurrentUser(decode(localStorage.jwtToken)));}catch(err){store.dispatch(setCurrentUser({}));store.dispatch(addError(err));}}var App=function App(){return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(RouteViews,{})]})})});};export default App;","map":{"version":3,"names":["React","Provider","store","setCurrentUser","addError","setToken","decode","BrowserRouter","Router","RouteViews","NavBar","localStorage","jwtToken","dispatch","err","App"],"sources":["C:/Users/abronshtein/Desktop/Code/STU/StuVoteApp/client/src/containers/App.jsx"],"sourcesContent":["import React from \"react\"\r\nimport {Provider} from 'react-redux'\r\nimport {store} from '../store'\r\nimport {setCurrentUser, addError, setToken} from '../store/actions'\r\nimport decode from 'jwt-decode'\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\nimport RouteViews from './RoutesViews'\r\nimport NavBar from './NavBar'\r\n\r\n//When turning on app, it will check if user already logged in\r\nif(localStorage.jwtToken){\r\n    setToken(localStorage.jwtToken)\r\n    try{\r\n        store.dispatch(setCurrentUser(decode(localStorage.jwtToken)))\r\n    }catch(err){\r\n        store.dispatch(setCurrentUser({}))\r\n        store.dispatch(addError(err))\r\n    }\r\n}\r\n\r\nconst App = () => \r\n<Provider store = {store}>\r\n    <Router>\r\n        <div>\r\n            <NavBar/>\r\n            <RouteViews />\r\n        </div>\r\n    </Router>\r\n</Provider>\r\n\r\nexport default App"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,KAAuB,aAAvB,CACA,OAAQC,KAAR,KAAoB,UAApB,CACA,OAAQC,cAAR,CAAwBC,QAAxB,CAAkCC,QAAlC,KAAiD,kBAAjD,CACA,MAAOC,CAAAA,MAAP,KAAmB,YAAnB,CACA,OAAQC,aAAa,GAAIC,CAAAA,MAAzB,KAAsC,kBAAtC,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA;wFACA,GAAGC,YAAY,CAACC,QAAhB,CAAyB,CACrBP,QAAQ,CAACM,YAAY,CAACC,QAAd,CAAR,CACA,GAAG,CACCV,KAAK,CAACW,QAAN,CAAeV,cAAc,CAACG,MAAM,CAACK,YAAY,CAACC,QAAd,CAAP,CAA7B,EACH,OAAME,GAAN,CAAU,CACPZ,KAAK,CAACW,QAAN,CAAeV,cAAc,CAAC,EAAD,CAA7B,EACAD,KAAK,CAACW,QAAN,CAAeT,QAAQ,CAACU,GAAD,CAAvB,EACH,CACJ,CAED,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,sBACZ,KAAC,QAAD,EAAU,KAAK,CAAIb,KAAnB,uBACI,KAAC,MAAD,wBACI,oCACI,KAAC,MAAD,IADJ,cAEI,KAAC,UAAD,IAFJ,GADJ,EADJ,EADY,EAAZ,CAUA,cAAea,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}
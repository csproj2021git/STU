{"ast":null,"code":"'use strict';\n\nvar CanceledError = require('./CanceledError');\n/**\r\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\r\n *\r\n * @class\r\n * @param {Function} executor The executor function.\r\n */\n\n\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n  var token = this; // eslint-disable-next-line func-names\n\n  this.promise.then(function (cancel) {\n    if (!token._listeners) return;\n    var i;\n    var l = token._listeners.length;\n\n    for (i = 0; i < l; i++) {\n      token._listeners[i](cancel);\n    }\n\n    token._listeners = null;\n  }); // eslint-disable-next-line func-names\n\n  this.promise.then = function (onfulfilled) {\n    var _resolve; // eslint-disable-next-line func-names\n\n\n    var promise = new Promise(function (resolve) {\n      token.subscribe(resolve);\n      _resolve = resolve;\n    }).then(onfulfilled);\n\n    promise.cancel = function reject() {\n      token.unsubscribe(_resolve);\n    };\n\n    return promise;\n  };\n\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new CanceledError(message);\n    resolvePromise(token.reason);\n  });\n}\n/**\r\n * Throws a `CanceledError` if cancellation has been requested.\r\n */\n\n\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n/**\r\n * Subscribe to the cancel signal\r\n */\n\n\nCancelToken.prototype.subscribe = function subscribe(listener) {\n  if (this.reason) {\n    listener(this.reason);\n    return;\n  }\n\n  if (this._listeners) {\n    this._listeners.push(listener);\n  } else {\n    this._listeners = [listener];\n  }\n};\n/**\r\n * Unsubscribe from the cancel signal\r\n */\n\n\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\n  if (!this._listeners) {\n    return;\n  }\n\n  var index = this._listeners.indexOf(listener);\n\n  if (index !== -1) {\n    this._listeners.splice(index, 1);\n  }\n};\n/**\r\n * Returns an object that contains a new `CancelToken` and a function that, when called,\r\n * cancels the `CancelToken`.\r\n */\n\n\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;","map":{"version":3,"names":["CanceledError","require","CancelToken","executor","TypeError","resolvePromise","promise","Promise","promiseExecutor","resolve","token","then","cancel","_listeners","i","l","length","onfulfilled","_resolve","subscribe","reject","unsubscribe","message","reason","prototype","throwIfRequested","listener","push","index","indexOf","splice","source","c","module","exports"],"sources":["C:/Users/abronshtein/Desktop/Code/STU/Moodle2/client_/node_modules/axios/lib/cancel/CancelToken.js"],"sourcesContent":["'use strict';\r\n\r\nvar CanceledError = require('./CanceledError');\r\n\r\n/**\r\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\r\n *\r\n * @class\r\n * @param {Function} executor The executor function.\r\n */\r\nfunction CancelToken(executor) {\r\n  if (typeof executor !== 'function') {\r\n    throw new TypeError('executor must be a function.');\r\n  }\r\n\r\n  var resolvePromise;\r\n\r\n  this.promise = new Promise(function promiseExecutor(resolve) {\r\n    resolvePromise = resolve;\r\n  });\r\n\r\n  var token = this;\r\n\r\n  // eslint-disable-next-line func-names\r\n  this.promise.then(function(cancel) {\r\n    if (!token._listeners) return;\r\n\r\n    var i;\r\n    var l = token._listeners.length;\r\n\r\n    for (i = 0; i < l; i++) {\r\n      token._listeners[i](cancel);\r\n    }\r\n    token._listeners = null;\r\n  });\r\n\r\n  // eslint-disable-next-line func-names\r\n  this.promise.then = function(onfulfilled) {\r\n    var _resolve;\r\n    // eslint-disable-next-line func-names\r\n    var promise = new Promise(function(resolve) {\r\n      token.subscribe(resolve);\r\n      _resolve = resolve;\r\n    }).then(onfulfilled);\r\n\r\n    promise.cancel = function reject() {\r\n      token.unsubscribe(_resolve);\r\n    };\r\n\r\n    return promise;\r\n  };\r\n\r\n  executor(function cancel(message) {\r\n    if (token.reason) {\r\n      // Cancellation has already been requested\r\n      return;\r\n    }\r\n\r\n    token.reason = new CanceledError(message);\r\n    resolvePromise(token.reason);\r\n  });\r\n}\r\n\r\n/**\r\n * Throws a `CanceledError` if cancellation has been requested.\r\n */\r\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\r\n  if (this.reason) {\r\n    throw this.reason;\r\n  }\r\n};\r\n\r\n/**\r\n * Subscribe to the cancel signal\r\n */\r\n\r\nCancelToken.prototype.subscribe = function subscribe(listener) {\r\n  if (this.reason) {\r\n    listener(this.reason);\r\n    return;\r\n  }\r\n\r\n  if (this._listeners) {\r\n    this._listeners.push(listener);\r\n  } else {\r\n    this._listeners = [listener];\r\n  }\r\n};\r\n\r\n/**\r\n * Unsubscribe from the cancel signal\r\n */\r\n\r\nCancelToken.prototype.unsubscribe = function unsubscribe(listener) {\r\n  if (!this._listeners) {\r\n    return;\r\n  }\r\n  var index = this._listeners.indexOf(listener);\r\n  if (index !== -1) {\r\n    this._listeners.splice(index, 1);\r\n  }\r\n};\r\n\r\n/**\r\n * Returns an object that contains a new `CancelToken` and a function that, when called,\r\n * cancels the `CancelToken`.\r\n */\r\nCancelToken.source = function source() {\r\n  var cancel;\r\n  var token = new CancelToken(function executor(c) {\r\n    cancel = c;\r\n  });\r\n  return {\r\n    token: token,\r\n    cancel: cancel\r\n  };\r\n};\r\n\r\nmodule.exports = CancelToken;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import verifyPlainObject from '../utils/verifyPlainObject';\nexport function wrapMapToPropsConstant( // * Note:\n//  It seems that the dispatch argument\n//  could be a dispatch function in some cases (ex: whenMapDispatchToPropsIsMissing)\n//  and a state object in some others (ex: whenMapStateToPropsIsMissing)\n// eslint-disable-next-line no-unused-vars\ngetConstant) {\n  return function initConstantSelector(dispatch) {\n    const constant = getConstant(dispatch);\n\n    function constantSelector() {\n      return constant;\n    }\n\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n} // dependsOnOwnProps is used by createMapToPropsProxy to determine whether to pass props as args\n// to the mapToProps function being wrapped. It is also used by makePurePropsSelector to determine\n// whether mapToProps needs to be invoked when props have changed.\n//\n// A length of one signals that mapToProps does not depend on props from the parent component.\n// A length of zero is assumed to mean mapToProps is getting args via arguments or ...args and\n// therefore not reporting its length accurately..\n// TODO Can this get pulled out so that we can subscribe directly to the store if we don't need ownProps?\n\nexport function getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n} // Used by whenMapStateToPropsIsFunction and whenMapDispatchToPropsIsFunction,\n// this function wraps mapToProps in a proxy function which does several things:\n//\n//  * Detects whether the mapToProps function being called depends on props, which\n//    is used by selectorFactory to decide if it should reinvoke on props changes.\n//\n//  * On first call, handles mapToProps if returns another function, and treats that\n//    new function as the true mapToProps for subsequent calls.\n//\n//  * On first call, verifies the first result is a plain object, in order to warn\n//    the developer that their mapToProps function is not returning a valid result.\n//\n\nexport function wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, _ref) {\n    let {\n      displayName\n    } = _ref;\n\n    const proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch, undefined);\n    }; // allow detectFactoryAndVerify to get ownProps\n\n\n    proxy.dependsOnOwnProps = true;\n\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      let props = proxy(stateOrDispatch, ownProps);\n\n      if (typeof props === 'function') {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n\n      if (process.env.NODE_ENV !== 'production') verifyPlainObject(props, displayName, methodName);\n      return props;\n    };\n\n    return proxy;\n  };\n}","map":{"version":3,"names":["verifyPlainObject","wrapMapToPropsConstant","getConstant","initConstantSelector","dispatch","constant","constantSelector","dependsOnOwnProps","getDependsOnOwnProps","mapToProps","Boolean","length","wrapMapToPropsFunc","methodName","initProxySelector","displayName","proxy","mapToPropsProxy","stateOrDispatch","ownProps","undefined","detectFactoryAndVerify","props","process","env","NODE_ENV"],"sources":["C:/Users/abronshtein/Desktop/Code/STU/Moodle2/client_/node_modules/react-redux/es/connect/wrapMapToProps.js"],"sourcesContent":["import verifyPlainObject from '../utils/verifyPlainObject';\r\nexport function wrapMapToPropsConstant( // * Note:\r\n//  It seems that the dispatch argument\r\n//  could be a dispatch function in some cases (ex: whenMapDispatchToPropsIsMissing)\r\n//  and a state object in some others (ex: whenMapStateToPropsIsMissing)\r\n// eslint-disable-next-line no-unused-vars\r\ngetConstant) {\r\n  return function initConstantSelector(dispatch) {\r\n    const constant = getConstant(dispatch);\r\n\r\n    function constantSelector() {\r\n      return constant;\r\n    }\r\n\r\n    constantSelector.dependsOnOwnProps = false;\r\n    return constantSelector;\r\n  };\r\n} // dependsOnOwnProps is used by createMapToPropsProxy to determine whether to pass props as args\r\n// to the mapToProps function being wrapped. It is also used by makePurePropsSelector to determine\r\n// whether mapToProps needs to be invoked when props have changed.\r\n//\r\n// A length of one signals that mapToProps does not depend on props from the parent component.\r\n// A length of zero is assumed to mean mapToProps is getting args via arguments or ...args and\r\n// therefore not reporting its length accurately..\r\n// TODO Can this get pulled out so that we can subscribe directly to the store if we don't need ownProps?\r\n\r\nexport function getDependsOnOwnProps(mapToProps) {\r\n  return mapToProps.dependsOnOwnProps ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\r\n} // Used by whenMapStateToPropsIsFunction and whenMapDispatchToPropsIsFunction,\r\n// this function wraps mapToProps in a proxy function which does several things:\r\n//\r\n//  * Detects whether the mapToProps function being called depends on props, which\r\n//    is used by selectorFactory to decide if it should reinvoke on props changes.\r\n//\r\n//  * On first call, handles mapToProps if returns another function, and treats that\r\n//    new function as the true mapToProps for subsequent calls.\r\n//\r\n//  * On first call, verifies the first result is a plain object, in order to warn\r\n//    the developer that their mapToProps function is not returning a valid result.\r\n//\r\n\r\nexport function wrapMapToPropsFunc(mapToProps, methodName) {\r\n  return function initProxySelector(dispatch, {\r\n    displayName\r\n  }) {\r\n    const proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\r\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch, undefined);\r\n    }; // allow detectFactoryAndVerify to get ownProps\r\n\r\n\r\n    proxy.dependsOnOwnProps = true;\r\n\r\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\r\n      proxy.mapToProps = mapToProps;\r\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\r\n      let props = proxy(stateOrDispatch, ownProps);\r\n\r\n      if (typeof props === 'function') {\r\n        proxy.mapToProps = props;\r\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\r\n        props = proxy(stateOrDispatch, ownProps);\r\n      }\r\n\r\n      if (process.env.NODE_ENV !== 'production') verifyPlainObject(props, displayName, methodName);\r\n      return props;\r\n    };\r\n\r\n    return proxy;\r\n  };\r\n}"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,4BAA9B;AACA,OAAO,SAASC,sBAAT,EAAiC;AACxC;AACA;AACA;AACA;AACAC,WALO,EAKM;EACX,OAAO,SAASC,oBAAT,CAA8BC,QAA9B,EAAwC;IAC7C,MAAMC,QAAQ,GAAGH,WAAW,CAACE,QAAD,CAA5B;;IAEA,SAASE,gBAAT,GAA4B;MAC1B,OAAOD,QAAP;IACD;;IAEDC,gBAAgB,CAACC,iBAAjB,GAAqC,KAArC;IACA,OAAOD,gBAAP;EACD,CATD;AAUD,C,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASE,oBAAT,CAA8BC,UAA9B,EAA0C;EAC/C,OAAOA,UAAU,CAACF,iBAAX,GAA+BG,OAAO,CAACD,UAAU,CAACF,iBAAZ,CAAtC,GAAuEE,UAAU,CAACE,MAAX,KAAsB,CAApG;AACD,C,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASC,kBAAT,CAA4BH,UAA5B,EAAwCI,UAAxC,EAAoD;EACzD,OAAO,SAASC,iBAAT,CAA2BV,QAA3B,QAEJ;IAAA,IAFyC;MAC1CW;IAD0C,CAEzC;;IACD,MAAMC,KAAK,GAAG,SAASC,eAAT,CAAyBC,eAAzB,EAA0CC,QAA1C,EAAoD;MAChE,OAAOH,KAAK,CAACT,iBAAN,GAA0BS,KAAK,CAACP,UAAN,CAAiBS,eAAjB,EAAkCC,QAAlC,CAA1B,GAAwEH,KAAK,CAACP,UAAN,CAAiBS,eAAjB,EAAkCE,SAAlC,CAA/E;IACD,CAFD,CADC,CAGE;;;IAGHJ,KAAK,CAACT,iBAAN,GAA0B,IAA1B;;IAEAS,KAAK,CAACP,UAAN,GAAmB,SAASY,sBAAT,CAAgCH,eAAhC,EAAiDC,QAAjD,EAA2D;MAC5EH,KAAK,CAACP,UAAN,GAAmBA,UAAnB;MACAO,KAAK,CAACT,iBAAN,GAA0BC,oBAAoB,CAACC,UAAD,CAA9C;MACA,IAAIa,KAAK,GAAGN,KAAK,CAACE,eAAD,EAAkBC,QAAlB,CAAjB;;MAEA,IAAI,OAAOG,KAAP,KAAiB,UAArB,EAAiC;QAC/BN,KAAK,CAACP,UAAN,GAAmBa,KAAnB;QACAN,KAAK,CAACT,iBAAN,GAA0BC,oBAAoB,CAACc,KAAD,CAA9C;QACAA,KAAK,GAAGN,KAAK,CAACE,eAAD,EAAkBC,QAAlB,CAAb;MACD;;MAED,IAAII,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2CzB,iBAAiB,CAACsB,KAAD,EAAQP,WAAR,EAAqBF,UAArB,CAAjB;MAC3C,OAAOS,KAAP;IACD,CAbD;;IAeA,OAAON,KAAP;EACD,CA1BD;AA2BD"},"metadata":{},"sourceType":"module"}